<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>Squib <a href="https://rubygems.org/gems/squib"><img src="https://badge.fury.io/rb/squib.svg" alt="Gem Version"></a> <a href="https://travis-ci.org/andymeneely/squib"><img src="https://secure.travis-ci.org/andymeneely/squib.svg?branch=master" alt="Build Status"></a> <a href="https://gemnasium.com/andymeneely/squib"><img src="https://gemnasium.com/andymeneely/squib.svg" alt="Dependency Status"></a> <a href="https://coveralls.io/r/andymeneely/squib"><img src="https://img.shields.io/coveralls/andymeneely/squib.svg" alt="Coverage Status"></a> <a href="http://inch-ci.org/github/andymeneely/squib"><img src="http://inch-ci.org/github/andymeneely/squib.png?branch=master" alt="Inline docs"></a></h1>

<p>Squib is a Ruby <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a> for prototyping card and board games. With Squib, you just write a little bit of Ruby and you can compile your game&#39;s data and images into a series of images raedy for print-and-play or even print-on-demand. Squib is very data-driven - think of it like <a href="http://www.nand.it/nandeck/">nanDeck</a> done &quot;the Ruby way&quot;. Squib supports:</p>

<ul>
<li>A concise set of rules for laying out your cards</li>
<li>Loading PNGs and SVGs using <a href="http://cairographics.org/">Cairo</a></li>
<li>Complex text rendering using <a href="http://www.pango.org/">Pango</a></li>
<li>Reading <code>.xlsx</code> files</li>
<li>Basic shape drawing</li>
<li>Rendering decks to PNGs and PDFs</li>
<li>Data-driven layouts</li>
<li>Unit conversion</li>
<li>Plus the full power of Ruby! </li>
</ul>

<p>Check this out. </p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello, World!</span><span class='tstring_end'>&#39;</span></span>  
  <span class='id identifier rubyid_save_png'>save_png</span>
<span class='kw'>end</span>
</code></pre>

<p>We just created a deck with 1 card, 825x1125 pixels, with the string &quot;Hello, World&quot; in the upper-left corner, saved to a PNG.</p>

<h2>Installation</h2>

<p>Install it yourself with:</p>

<pre class="code ruby"><code class="ruby">$ gem install squib
</code></pre>

<p>If you&#39;re using Bundler, add this line to your application&#39;s Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>And then execute:</p>

<pre class="code ruby"><code class="ruby">$ bundle
</code></pre>

<p>Note: Squib has some native dependencies, such as <a href="https://github.com/rcairo/rcairo">Cairo</a>, <a href="http://ruby-gnome2.sourceforge.jp/hiki.cgi?Pango%3A%3ALayout">Pango</a>, and <a href="http://nokogiri.org/">Nokogiri</a>, which all require DevKit to compile C code. This is usually not painful, but can cause headaches on some setups. For Windows users, I <em>strongly</em> recommend using the <em>non-64 bit</em> RubyInstaller at <a href="http://rubyinstaller.org">http://rubyinstaller.org</a>. For Mac, I recommend using <a href="https://rvm.io">rvm</a>. </p>

<p>Note: Squib requires Ruby 2.0 or later.</p>

<h2>Getting Started</h2>

<p>After installing Squib, you can create a project and run your first build like this:</p>

<pre class="code sh"><code class="sh">$ squib new my-cool-game
$ cd my-cool-game
$ ruby deck.rb
</code></pre>

<p>The <code>squib new</code> command will generate files and folders like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid__output'>_output</span>
  <span class='id identifier rubyid_gitkeep'>gitkeep</span><span class='period'>.</span><span class='id identifier rubyid_txt'>txt</span><span class='period'>
</span><span class='id identifier rubyid_.gitignore'>.gitignore</span>
<span class='const'>ABOUT</span><span class='period'>.</span><span class='id identifier rubyid_md'>md</span>
<span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_yml'>yml</span>
<span class='id identifier rubyid_deck'>deck</span><span class='period'>.</span><span class='id identifier rubyid_rb'>rb</span>
<span class='const'>Gemfile</span>
<span class='id identifier rubyid_layout'>layout</span><span class='period'>.</span><span class='id identifier rubyid_yml'>yml</span>
<span class='const'>PNP</span> <span class='const'>NOTES</span><span class='period'>.</span><span class='id identifier rubyid_md'>md</span>
</code></pre>

<p>The central file here is <code>deck.rb</code>. Here&#39;s a <a href="https://github.com/andymeneely/squib/tree/master/samples/basic.rb">basic example</a> of a deck to work from:</p>

<p><pre class="code ruby"><span class='comment'>#!/usr/bin/env ruby
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thief</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Grifter</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mastermind</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> 
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>level</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rbrace'>}</span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1125</span><span class='comma'>,</span> <span class='label'>cards:</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:white</span>
  <span class='id identifier rubyid_rect'>rect</span> <span class='label'>x:</span> <span class='int'>38</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>38</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>750</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1050</span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>38</span>
  <span class='id identifier rubyid_rect'>rect</span> <span class='label'>x:</span> <span class='int'>75</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>75</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>128</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>128</span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>25</span>

  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>220</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>78</span><span class='comma'>,</span> <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 54</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>level</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>75</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>85</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>128</span><span class='comma'>,</span> 
       <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 72</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>align:</span> <span class='symbol'>:center</span>

   <span class='id identifier rubyid_png'>png</span> <span class='label'>range:</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shiny-purse.png</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>620</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>75</span>
   <span class='id identifier rubyid_svg'>svg</span> <span class='label'>range:</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='comma'>,</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>spanner.svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>620</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>218</span>

  <span class='id identifier rubyid_save'>save</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>basic_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>format:</span> <span class='symbol'>:png</span><span class='comment'>#, progress_bar: true
</span><span class='kw'>end</span></pre></p>

<h1>Learning Squib</h1>

<p>After going over this README, here are some other places to go learn Squib:</p>

<ul>
<li>The YARD-generated API documentation <a href="http://rubydoc.info/gems/squib/">for the latest Squib gem</a> is a method-by-method reference. The <code>Deck</code> class is the main class to look at. If you are following Squib master, see <a href="http://rubydoc.info/github/andymeneely/squib">the latest version</a></li>
<li>The <code>samples</code> directory in the <a href="https://github.com/andymeneely/squib">source repository</a> has lots of examples. To run them, you will need to clone the repository and run them with Squib installed. </li>
<li><a href="https://github.com/andymeneely/junk-land">Junk Land</a> is my own creation that&#39;s uses Squib for both black-and-white print-and-play and full color.</li>
</ul>

<h2>Viewing this README</h2>

<p>If you&#39;re viewing this on Github, you might see some confusing tags like <code>{include:file:...}</code> - these are directives for YARD to show the embedded examples. The samples can be found on this repository, and are quite helpful. If you want to see this documentation in YARD, </p>

<p>Sadly, RubyDoc.info is buggy and doesn&#39;t support <code>{include:file...}</code> directive properly, so these online links will still not show the samples inline:</p>

<ul>
<li>The <a href="http://rubydoc.info/gems/squib/">latest Gem release</a></li>
<li>The <a href="http://rubydoc.info/github/andymeneely/squib">master branch</a> of this repository </li>
</ul>

<p>To view this locally, you can do the following</p>

<pre class="code sh"><code class="sh">$ gem install yard
$ yard server --gems
</code></pre>

<p>Then go to <a href="http://localhost:8808/docs/squib/file/README.md">http://localhost:8808/docs/squib/file/README.md</a></p>

<h2>Squib API</h2>

<p>The Squib DSL is based on a collection of methods provided to the <code>Squib::Deck</code> class. The general philosophy of Squib is to specify as little as possible with layers of defaults, highly flexible input, and good ol&#39; Ruby duck-typing. Ruby does a lot to make Squib useful.</p>

<p>Squib essentially has two main classes: <code>Deck</code> and <code>Card</code>. <code>Deck</code> is the front-end, and <code>Card</code> is the back-end. The contract of <code>Deck</code> is to do the various manipulations of options and then delegate the operation to <code>Card</code> to do the low-level graphical operations. </p>

<p>For most users, I recommending solely using <code>Deck</code> methods. If you want to roll up your sleeves and get your hands messy, you can access the Cairo or Pango contexts the directly via the <code>Card</code> class. The API documentation doesn&#39;t really cover these, however, so you&#39;re on your own there.</p>

<h2>Specifying Parameters</h2>

<p>Squib is all about sane defaults and shorthand specification. Arguments are almost always using hashes, which look a lot like <a href="http://www.ruby-doc.org/core-2.0.0/doc/syntax/calling_methods_rdoc.html#label-Keyword+Arguments">Ruby 2.0&#39;s named parameters</a>. This means you can specify your parameters in any order you please. All parameters are optional. For example <code>x</code> and <code>y</code> default to 0 (i.e. the upper-left corner of the card). Any parameter that is specified in the command overrides any Squib defaults, <code>config.yml</code> settings, or layout rules. </p>

<p>Note: you MUST use named parameters rather than positional parameters. For example: <code>save :png</code> will lead to an error like this:</p>

<pre class="code ruby"><code class="ruby">C:/Ruby200/lib/ruby/gems/2.0.0/gems/squib-0.0.3/lib/squib/api/save.rb:12:in `save&#39;: wrong number of arguments (2 for 0..1) (ArgumentError)
    from deck.rb:22:in `block in &lt;main&gt;&#39;
    from C:/Ruby200/lib/ruby/gems/2.0.0/gems/squib-0.0.3/lib/squib/deck.rb:60:in `instance_eval&#39;
    from C:/Ruby200/lib/ruby/gems/2.0.0/gems/squib-0.0.3/lib/squib/deck.rb:60:in `initialize&#39;
    from deck.rb:18:in `new&#39;
    from deck.rb:18:in `&lt;main&gt;&#39;
</code></pre>

<p>Instead, you must name the parameters: <code>save format: :png</code></p>

<h2>Arrays and Singleton Expansion</h2>

<p>Many inputs to Squib can accept <code>Arrays</code>, which correspond to the entire deck. In fact, under the hood, if Squib is <em>not</em> given an array, it expands it out to an array before rendering. This allows for different styles to apply to different cards. This example comes from the <a href="https://github.com/andymeneely/squib/tree/master/samples/ranges.rb">ranges.rb example</a></p>

<pre class="code ruby"><code class="ruby"><span class='comment'># This renders three cards, with three strings that had three different colors at three different locations.
</span><span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>red</span><span class='words_sep'> </span><span class='tstring_content'>green</span><span class='words_sep'> </span><span class='tstring_content'>blue</span><span class='words_sep'>)</span><span class='comma'>,</span>
     <span class='label'>color:</span> <span class='lbracket'>[</span><span class='symbol'>:red</span><span class='comma'>,</span> <span class='symbol'>:green</span><span class='comma'>,</span> <span class='symbol'>:blue</span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='label'>x:</span> <span class='lbracket'>[</span><span class='int'>40</span><span class='comma'>,</span> <span class='int'>80</span><span class='comma'>,</span> <span class='int'>120</span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='label'>y:</span> <span class='lbracket'>[</span><span class='int'>700</span><span class='comma'>,</span> <span class='int'>750</span><span class='comma'>,</span> <span class='int'>800</span><span class='rbracket'>]</span>
</code></pre>

<p>Under the hood, Squib actually views every argument as applied each card individually. If a single argument is given to the command, it&#39;s considered a singleton that gets expanded into a deck-sized array. Supplying the array bypasses that array. This means that any array you supply instead of a singleton ought to be the same size as the deck and align the same way the indexes in the supplied <code>range</code> are.</p>

<h2>Specifying Ranges</h2>

<p>Most public <code>Deck</code> methods allow a <code>range</code> to be specified as a first parameter. This parameter is used to access an internal <code>Array</code> of <code>Squib::Cards</code>. This can be an actual Ruby range, or anything that implements <code>#each</code> (thus can be an <code>Enumerable</code>). Integers are also supported for changing one card only. Negatives work from the back of the deck. Here are some examples from <code>samples/ranges.rb</code> found <a href="https://github.com/andymeneely/squib/tree/master/samples/ranges.rb">here</a></p>

<p><pre class="code ruby"><span class='comment'>#!/usr/bin/env ruby
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thief</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Grifter</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mastermind</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> 
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thug</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thinker</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thinker</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>level</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rbrace'>}</span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1125</span><span class='comma'>,</span> <span class='label'>cards:</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='comment'># Default range is :all
</span>  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:white</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>250</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>55</span><span class='comma'>,</span> <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 54</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>level</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>65</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>40</span><span class='comma'>,</span> <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 72</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Could be explicit about using :all, too
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='symbol'>:all</span><span class='comma'>,</span> 
       <span class='label'>str:</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>40</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>128</span><span class='comma'>,</span> <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 18</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> 
       <span class='label'>width:</span> <span class='int'>100</span><span class='comma'>,</span> <span class='label'>align:</span> <span class='symbol'>:center</span>

  <span class='comment'># Ranges are inclusive, zero-based
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thief and Grifter only!!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span><span class='int'>200</span>

  <span class='comment'># Integers are also allowed
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thief only!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>250</span>

  <span class='comment'># Negatives go from the back of the deck
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mastermind only!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>250</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='op'>-</span><span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Grifter and Mastermind only!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>650</span>

  <span class='comment'># We can use Arrays too!
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thief and Mastermind only!!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span><span class='int'>300</span>

  <span class='comment'># Just about everything in Squib can be given an array that
</span>  <span class='comment'># corresponds to the deck&#39;s cards. This allows for each card to be styled differently
</span>  <span class='comment'># This renders three cards, with three strings that had three different colors at three different locations.
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>red</span><span class='words_sep'> </span><span class='tstring_content'>green</span><span class='words_sep'> </span><span class='tstring_content'>blue</span><span class='words_sep'>)</span><span class='comma'>,</span>
       <span class='label'>color:</span> <span class='lbracket'>[</span><span class='symbol'>:red</span><span class='comma'>,</span> <span class='symbol'>:green</span><span class='comma'>,</span> <span class='symbol'>:blue</span><span class='rbracket'>]</span><span class='comma'>,</span>
       <span class='label'>x:</span> <span class='lbracket'>[</span><span class='int'>40</span><span class='comma'>,</span> <span class='int'>80</span><span class='comma'>,</span> <span class='int'>120</span><span class='rbracket'>]</span><span class='comma'>,</span>
       <span class='label'>y:</span> <span class='lbracket'>[</span><span class='int'>700</span><span class='comma'>,</span> <span class='int'>750</span><span class='comma'>,</span> <span class='int'>800</span><span class='rbracket'>]</span>

  <span class='comment'># Useful idiom: construct a hash from card names back to its index (ID),
</span>  <span class='comment'># then use a range. No need to memorize IDs, and you can add cards easily
</span>  <span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='semicolon'>;</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_id'>id</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='id identifier rubyid_id'>id</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thief</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>..</span><span class='id identifier rubyid_id'>id</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Grifter</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> 
       <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thief through Grifter with id lookup!!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  
       <span class='label'>x:</span><span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>400</span>

  <span class='comment'># Useful idiom: generate arrays from a column called &#39;type&#39;
</span>  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='semicolon'>;</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='lbracket'>[</span><span class='id identifier rubyid_t'>t</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_i'>i</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>range:</span> <span class='id identifier rubyid_type'>type</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thinker</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> 
       <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only for Thinkers!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  
       <span class='label'>x:</span><span class='int'>25</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>500</span>
       
  <span class='id identifier rubyid_save'>save</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ranges_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>format:</span> <span class='symbol'>:png</span>
<span class='kw'>end</span></pre></p>

<h2>Pixels and Other Units</h2>

<p>By default, Squib thinks in pixels. This decision was made so that we can have pixel-perfect layouts without automatically scaling everything, even though working in units is sometimes easier. To convert, we provide the <code>Deck#inch</code> method, as shown in <code>samples/units.rb</code> found <a href="https://github.com/andymeneely/squib/tree/master/samples/units.rb">here</a></p>

<p><pre class="code ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1125</span><span class='comma'>,</span> <span class='label'>cards:</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:white</span>

  <span class='id identifier rubyid_bleed'>bleed</span> <span class='op'>=</span> <span class='id identifier rubyid_inches'>inches</span><span class='lparen'>(</span><span class='float'>0.125</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cut_width'>cut_width</span> <span class='op'>=</span> <span class='id identifier rubyid_inches'>inches</span><span class='lparen'>(</span><span class='float'>2.5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cut_height'>cut_height</span> <span class='op'>=</span> <span class='id identifier rubyid_inches'>inches</span><span class='lparen'>(</span><span class='float'>3.5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rect'>rect</span> <span class='label'>x:</span> <span class='id identifier rubyid_bleed'>bleed</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_bleed'>bleed</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='id identifier rubyid_cut_width'>cut_width</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='id identifier rubyid_cut_height'>cut_height</span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>25</span>

  <span class='id identifier rubyid_save'>save</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>units_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>format:</span> <span class='symbol'>:png</span>
<span class='kw'>end</span></pre></p>

<h2>Specifying Colors</h2>

<p>Colors can be specified in a wide variety of ways, mostly in a hex-string. Take a look at the examples from <code>samples/colors.rb</code>, found <a href="https://github.com/andymeneely/squib/tree/master/samples/colors.rb">here</a></p>

<p><pre class="code ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1125</span><span class='comma'>,</span> <span class='label'>cards:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:white</span>

  <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#f00</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3-hex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#f00</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3-hex (alpha)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#ff0000</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>6-hex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#ff000099</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>8-hex(alpha) *</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#ffff00000000</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12-hex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#ffff000000009999</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12-hex (alpha)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>
  <span class='id identifier rubyid_text'>text</span> <span class='label'>color:</span> <span class='symbol'>:burnt_orange</span><span class='comma'>,</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Symbols of constants too</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='id identifier rubyid_y'>y</span><span class='op'>+=</span><span class='int'>50</span>

  <span class='id identifier rubyid_save_png'>save_png</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>colors_</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre></p>

<p>Under the hood, Squib uses the <code>rcairo</code> <a href="https://github.com/rcairo/rcairo/blob/master/lib/cairo/color.rb">color parser</a> to accept a variety of color specifications, along with over <a href="https://github.com/rcairo/rcairo/blob/master/lib/cairo/colors.rb">300 pre-defined constants</a>. </p>

<h2>Specifying Files</h2>

<p>All files opened for reading or writing (e.g. for <code>png</code> and <code>xlsx</code>) are opened relative to the current directory. Files opened for writing (e.g. for <code>save_png</code>) will be overwritten without warning. </p>

<h2>Custom Layouts</h2>

<p>Working with x-y coordinates all the time can be tiresome, and ideally everything in a game prototype should be data-driven and easily changed. For this, many Squib methods allow for a <code>layout</code> to be set. In essence, layouts are a way of setting default values for any argument given to the command. </p>

<p>To use a layout, set the <code>layout:</code> option on a <code>Deck.new</code> command to point to a YAML file. Any command that allows a <code>layout</code> option can be set with a Ruby symbol or String, and the command will then load the specified <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code>. The individual command can also override these options. </p>

<p>Note: YAML is very finnicky about having not allowing tabs. Use two spaces for indentation instead. If you get a <code>Psych</code> syntax error, this is likely the culprit. Indendation is also strongly enforced in Yaml too. See the <a href="http://www.yaml.org/YAML_for_ruby.html">Yaml docs</a>.</p>

<p>Layouts will override Squib&#39;s defaults, but are overriden by anything specified in the command itself. Thus, the order of precedence looks like this:</p>

<ul>
<li>Use what the command specified</li>
<li>If anything was not yet specified, use what was given in a layout (if a layout was specified in the command and the file was given to the Deck)</li>
<li>If still anything was not yet specified, use what was given in Squib&#39;s defaults.</li>
</ul>

<p>Since Layouts are in Yaml, we have the full power of that data format. One particular feature you should look into are <a href="http://www.yaml.org/YAML_for_ruby.html#merge_key">&quot;merge keys&quot;</a>. With merge keys, you can define base styles in one entry, then include those keys elsewhere. For example:</p>

<pre class="code sh"><code class="sh">icon: &amp;icon
  width: 50
  height: 50
icon_left
  &lt;&lt;: *icon
  x: 100
# The layout for icon_left will have the width/height from icon!
</code></pre>

<p>See the <code>use_layout</code> sample found <a href="https://github.com/andymeneely/squib/tree/master/samples/">here</a></p>

<p><pre class="code ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>layout:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>custom-layout.yml</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> 
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:white</span>
  <span class='id identifier rubyid_hint'>hint</span> <span class='label'>text:</span> <span class='symbol'>:cyan</span>

  <span class='comment'># Layouts are YAML files that specify any option as a default
</span>  <span class='id identifier rubyid_rect'>rect</span> <span class='label'>layout:</span> <span class='symbol'>:frame</span>

  <span class='comment'># You can also override a given layout entry in the command
</span>  <span class='id identifier rubyid_circle'>circle</span> <span class='label'>layout:</span> <span class='symbol'>:frame</span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>50</span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>25</span>

  <span class='comment'># Lots of commands have the :layout option
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The Title</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>layout:</span> <span class='symbol'>:title</span>

  <span class='comment'># Layouts also support an &quot;extends&quot; attribute to reuse settings
</span>  <span class='id identifier rubyid_svg'>svg</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>spanner.svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>layout:</span> <span class='symbol'>:icon_left</span>
  <span class='id identifier rubyid_png'>png</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shiny-purse.png</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>layout:</span> <span class='symbol'>:icon_middle</span>
  <span class='id identifier rubyid_svg'>svg</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>spanner.svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>layout:</span> <span class='symbol'>:icon_right</span>

  <span class='comment'># Strings can also be used to specify a layout (e.g. from a data file)
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>subtitle</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>layout:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>subtitle</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># For debugging purposes, you can always print out the loaded layout
</span>  <span class='comment'>#require &#39;pp&#39;
</span>  <span class='comment'>#pp @layout
</span>
  <span class='id identifier rubyid_save_png'>save_png</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>layout_</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre></p>

<h2>Configuration File</h2>

<p>Squib supports various configuration properties that can be specified in an external file. The <code>config:</code> option in <code>Deck.new</code> can specify an optional configuration file in YML format. The properties there are intended to be immutable for the life of the Deck. The options include:</p>

<ul>
<li><code>progress_bars</code> (Boolean, default: false).  When set to <code>true</code>, long-running operations will show a progress bar on the command line. </li>
<li><code>dpi</code> (Integer, default: 300). Used in calculations when units are used (e.g. for PDF rendering and unit conversion).</li>
<li><code>hint</code> (ColorString, default: off). Text hints are used to show the boundaries of text boxes. Can be enabled/disabled for individual commands, or set globally with the <code>set</code> command. This setting is overriden by <code>set</code> and individual commands.</li>
<li><code>custom_colors</code> (Hash of Colors, default: {}). Defines globally-available colors available to the deck that can be specified in commands.</li>
</ul>

<p>The following sample demonstrates the config file.</p>

<p>See the <code>custom_config</code> sample found <a href="https://github.com/andymeneely/squib/tree/master/samples/">here</a></p>

<p><pre class="code ruby"><span class='comment'>#!/usr/bin/env ruby
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>config:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>custom-config.yml</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='comment'># Custom color defined in our config
</span>  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='symbol'>:foo</span> 

  <span class='comment'># Hints are turned on in the config file
</span>  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Title</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>78</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span>
       <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arial 72</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>align:</span> <span class='symbol'>:center</span>

  <span class='comment'># Progress bars are shown for these commands
</span>  <span class='comment'># And images are taken from config-imgdir
</span>  <span class='id identifier rubyid_png'>png</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shiny-purse2.png</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>620</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>75</span>
  <span class='id identifier rubyid_svg'>svg</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>spanner2.svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>x:</span> <span class='int'>620</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>218</span>
  <span class='id identifier rubyid_save_png'>save_png</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>custom-config_</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_save_pdf'>save_pdf</span> <span class='label'>file:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>custom-config-out.pdf</span><span class='tstring_end'>&quot;</span></span>

<span class='kw'>end</span></pre></p>

<h2>Staying DRY (Don&#39;t Repeat Yourself)</h2>

<p>Squib tries to keep you DRY with the following features:</p>

<ul>
<li>Custom layouts allow you to specify various arguments in a separate file. This is great for x-y coordinates and alignment properties that would otherwise clutter up perfectly readable code. Yaml&#39;s &quot;merge keys&quot; takes this a step further and lets you specify base styles that can then be extended by other styles.</li>
<li>Flexible ranges and array handling: the <code>range</code> parameter in Squib is very flexible, meaning that one <code>text</code> command can specify different text in different fonts, styles, colors, etc. for each card. If you find yourself doing multiple <code>text</code> command for the same field across different ranges of cards, there&#39;s probably a better way to condense.</li>
<li>Custom colors keep you from hardcoding magic color strings everywhere. Custom colors are entered into the <code>config.yml</code> file.</li>
</ul>

<h2>Source control</h2>

<p>You are using source control, right?? </p>

<p>By default, Squib assumes Git. But it&#39;s not dogmatic about it. Tracking your progress, backing up, sharing data, topic branches, release management, and reverting into history are just some of the many, many useful things you can do with source control. For me, I tend to ignore any auto-generated files in my output folder, but version control everything else. I also try to keep my graphics vector files, so the files stay small. Version control is intended for source code, so large binary files don&#39;t usually get checked in unless absolutely necessary. For big binaries with graphics I tend to keep those</p>

<h2>Decks with multiple orientations or sizes</h2>

<p>If you want to make a deck that has some portrait and some landscape cards, I recommend you use multiple <code>Squib::Deck</code>s. The pixel size of a given card is designed to not change thorughout the life of a <code>Squib::Deck</code>. To work with landscape cards, there is a <code>rotate</code> option on <code>save_png</code> so you can render your print-on-demand PNGs in portrait but keep everything ekse oriented toward landscape. The following example demonstrates how to do this, found <a href="https://github.com/andymeneely/squib/tree/master/samples/portrait-landscape.rb">here</a>.</p>

<p><pre class="code ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>squib</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># For decks with both landscape and portrait orientations,
</span><span class='comment'># we recommend using two separate decks. 
</span><span class='comment'># For print-on-demand, we can rotate all of the images in the final step.
</span>
<span class='comment'># Normal cards
</span><span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>825</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1125</span><span class='rparen'>)</span> <span class='kw'>do</span> 
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#aaa</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is portrait</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_save_png'>save_png</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>portrait_</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># Money cards are landscape
</span><span class='const'>Squib</span><span class='op'>::</span><span class='const'>Deck</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>width:</span> <span class='int'>1125</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>825</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_background'>background</span> <span class='label'>color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#aaa</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_text'>text</span> <span class='label'>str:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is landscape</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_save_png'>save_png</span> <span class='label'>prefix:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>landscape_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>rotate:</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre></p>

<h1>Development</h1>

<p>Squib is currently in pre-release alpha, so the API is still maturing. If you are using Squib, however, I&#39;d love to hear about it! Feel free to <a href="https://github.com/andymeneely/squib/issues">file a bug or feature request</a>.</p>

<h1>Contributing</h1>

<p>Squib is an open source tool, and I would love participation. If you want your code integrated:</p>

<ol>
<li>Fork it ( <a href="https://github.com/%5Bmy-github-username%5D/squib/fork">https://github.com/[my-github-username]/squib/fork</a> )</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am &#39;Add some feature&#39;</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>

<h1>What&#39;s up the with the name?</h1>

<p>Truthfully, I just thought it was a cool, simple word that was not used much in the Ruby community nor the board game community. But, now that I&#39;ve committed to the name, I&#39;ve realized that:</p>

<ul>
<li>Squibs are small explosive devices, much like Squib &quot;explodes&quot; your rules into a playable game</li>
<li>Squibs are often used in heist movies, leading to a sudden plot twist that often resembles the twists of good tabletop game</li>
<li>Squibs are also part of the Harry Potter world - they are people who are non-magical but wizard-born. Squib is aware of wizarding magic and comes from that heritage, but it&#39;s not magical itself. </li>
</ul>
</div></div>

    <div id="footer">
  Generated on Mon Sep 15 09:19:21 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.0.0).
</div>

  </body>
</html>